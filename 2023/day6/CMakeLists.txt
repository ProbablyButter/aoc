SYMLINK_FILES(input.txt)
SYMLINK_FILES(input_small.txt)
SYMLINK_FILES(input2.txt)
SYMLINK_FILES(input2_small.txt)

add_custom_command(OUTPUT "${CMAKE_CURRENT_BINARY_DIR}/part1.cpp"
  COMMAND "${AOC_RE2C_EXEC}" "-W" "-o" "${CMAKE_CURRENT_BINARY_DIR}/part1.cpp" "${CMAKE_CURRENT_SOURCE_DIR}/part1.re.cpp"
  DEPENDS re2c
  DEPENDS "${CMAKE_CURRENT_SOURCE_DIR}/part1.re.cpp"
  WORKING_DIRECTORY "${PROJECT_BINARY_DIR}"
)

AOC_EXECUTABLE(part1 "${CMAKE_CURRENT_BINARY_DIR}/part1.cpp")

add_custom_command(OUTPUT "${CMAKE_CURRENT_BINARY_DIR}/part2.cpp"
  COMMAND "${AOC_RE2C_EXEC}" "-W" "-o" "${CMAKE_CURRENT_BINARY_DIR}/part2.cpp" "${CMAKE_CURRENT_SOURCE_DIR}/part2.re.cpp"
  DEPENDS re2c
  DEPENDS "${CMAKE_CURRENT_SOURCE_DIR}/part2.re.cpp"
  WORKING_DIRECTORY "${PROJECT_BINARY_DIR}"
)

AOC_EXECUTABLE(part2 "${CMAKE_CURRENT_BINARY_DIR}/part2.cpp")
